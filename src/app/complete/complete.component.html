<button class="btn btn-white btn-sm" routerLink="/">
    <img class="nav-icon" src="../../assets/icons/home.svg" alt="#">
</button>

<button class="btn btn-white btn-sm" [disabled]="!this.resultsService.result" data-toggle="modal" data-target="#healthValues">
  <img class="nav-icon" src="../../assets/icons/settings.svg" alt="#">
</button>

<button class="btn btn-white btn-sm" [disabled]="!this.resultsService.result" data-toggle="modal" data-target="#exampleModalCenter">
    <img class="nav-icon" src="../../assets/icons/save.svg" alt="#">
</button>

<!-- Save file Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">Lagre test</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">

            <form class="form-inline">
                <div class="form-group">
                    <label for="inputID">ID</label>
                    <input type="text" [placeholder]="inputID" (input)="inputID = $event.target.value" id="inputID" class="form-control mx-sm-3" aria-describedby="inputID">
                </div>
            </form>

            <div class="custom-control custom-checkbox my-1 mr-sm-2">
                <input type="checkbox" class="custom-control-input" id="customControlInline" [checked]="saveReportFile" (change)="saveReportFile = !saveReportFile">
                <label class="custom-control-label" for="customControlInline">Lagre rapport</label>
            </div>
            <div class="custom-control custom-checkbox my-1 mr-sm-2">
                <input type="checkbox" class="custom-control-input" id="customControlInline2" [checked]="saveTestFile" (change)="saveTestFile = !saveTestFile">
                <label class="custom-control-label" for="customControlInline2">Lagre test-fil</label>
            </div>
    
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="saveFiles()">Lagre</button>
        </div>
        </div>
    </div>
</div> <!-- End of save file Modal -->

<!-- Edit health-values modal -->
<div class="modal fade" id="healthValues" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Administrer spørsmål</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
  
        <div class="modal-body">
        
          <div class="form-group">
            <button 
              class="btn btn-outline-primary btn-block" 
              type="button" 
              data-toggle="collapse" 
              data-target="#collapseExample" 
              aria-expanded="false" 
              aria-controls="collapseExample"
              >
              Rediger helseverdier
            </button>
          </div>
  
          <div class="collapse" id="collapseExample">
  
            <div class="card card-body health-test-container">
              <div class="form-group" id="{{item.id}}" *ngFor="let item of this.healthTestsService.healthTests; index as i;">
                
                <h4>{{item.test}}</h4>
                <div *ngFor="let alternative of item.alternatives; index as j;">
                
                    <div *ngIf="alternative.type !== 'input'" class="custom-control custom-radio" >
                      <input
                        [checked]="isRadioSelected(item.id,alternative.id)"
                        (click)="radioSelected(item.id,alternative.id)"
                        type="radio" id="{{''+item.id+alternative.id}}" 
                        name="{{item.id}}" 
                        class="custom-control-input"
                        >
                      <label class="custom-control-label" for="{{''+item.id+alternative.id}}">{{alternative.text}}</label>
                    </div>
    
                    <div class="input-group input-group-sm" *ngIf="alternative.type === 'input'">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="health-value1">{{alternative.unit}}</span>
                      </div>
                      <input type="text" class="form-control" (change)="radioSelected(item.id,alternative.id,$event.target.value)" placeholder="">
                    </div>
    
                </div>
                
              </div>
            </div>
  
            <br>
            <div class="form-group">
              <button 
                class="btn btn-success btn-block" 
                type="button" 
                data-toggle="collapse" 
                data-target="#collapseExample" 
                aria-expanded="false" 
                aria-controls="collapseExample"
                (click)="saveHealthWeights()"
                >
                Lagre
              </button>
            </div>
  
          </div>
        
        </div>
  
      </div>
    </div>
  </div> <!-- End of edit health-values modal -->


<div class="results-container text-center" *ngIf="!this.resultsService.result"><h3>Ingen resultater, fullfør en test først</h3></div>
<div class="results-container">
    <div class="container-fluid" *ngIf="this.resultsService.result">
        
        <div class="row">
            <div class="col col-category" *ngFor="let item of this.resultsService.categories; index as i;">

                <div class="bar-container">
                    <div class="bar-health" [ngClass]="{'tallest-bar-health':this.resultsService.highestCategory === i}"></div>
                    <div class="bar" [ngClass]="{'tallest-bar':this.resultsService.highestCategory === i}"></div>
                </div>
                <div class="category-text">
                    <b>{{item}}</b>
                    <br><h4>{{this.resultsService.totalResult[i]}}/100</h4>
                </div>

            </div>
            <!-- <div class="col w-100"></div> -->
        </div>
    
    </div>
</div>